(this.webpackJsonpgraph=this.webpackJsonpgraph||[]).push([[0],[,,,,,,,function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(8),a=n.n(r),i=n(2),o=(n(14),n(15),n(16),n(0));var l=function(e){var t=Object(c.useState)(),n=Object(i.a)(t,2),s=n[0],r=n[1],a=Object(c.useState)(),l=Object(i.a)(a,2),j=l[0],b=l[1],d=Object(c.useState)({}),u=Object(i.a)(d,2),h=u[0],O=u[1],f=Object(c.useState)(!1),m=Object(i.a)(f,2),x=m[0],v=m[1],p=new WebSocket("wss://ws.finnhub.io?token=".concat("c1mts1a37fktjjdr6ji0")),g=localStorage.getItem("ticker");""===g&&(g=e.symbol);try{p.addEventListener("open",(function(e){p.send(JSON.stringify({type:"subscribe",symbol:g}))}))}catch(y){console.log("error",y)}p.addEventListener("message",(function(e){var t=JSON.parse(e.data);Array.isArray(t.data)&&(console.log("data",t.data[0].p.toFixed(2),t.data[0].v),r(t.data[0].p.toFixed(2)),b(t.data[0].v))}));var k=function(){fetch("".concat("https://financialmodelingprep.com/api/v3/market-hours?apikey=fe052be73f5dbfe3e882f17c1fad13bb")).then((function(e){return e.json()})).then((function(e){console.log("data",e),v(e.isTheStockMarketOpen)}))};return Object(c.useEffect)((function(){!function(){var e=function(e){var t="https://finnhub.io/api/v1/quote?symbol=";return t+=localStorage.getItem("ticker"),(t+="&token=")+"c1mts1a37fktjjdr6ji0"}();fetch("".concat(e)).then((function(e){return e.json()})).then((function(e){k(),O(e)}))}()}),[e.symbol]),Object(o.jsxs)("div",{className:"row mobile-daily",children:[!0!==x&&Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"get a life,"}),Object(o.jsx)("h1",{children:"markets are closed."})]}),!0===x&&Object(o.jsxs)("div",{className:"box current",children:[Object(o.jsx)("p",{children:s}),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("p",{children:"vol"}),Object(o.jsx)("span",{children:j})]})]}),Object(o.jsxs)("div",{className:"box historical",children:[Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("p",{children:"last close"}),Object(o.jsx)("span",{children:h.pc})]}),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("p",{children:"open"}),Object(o.jsx)("span",{children:h.o})]}),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("p",{children:"close"}),Object(o.jsx)("span",{children:h.c})]})]}),Object(o.jsxs)("div",{className:"box hi-lo",children:[Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("p",{children:"hi"}),Object(o.jsx)("span",{children:h.h})]}),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("p",{children:"lo"}),Object(o.jsx)("span",{children:h.l})]})]})]})};var j=function(e){var t=void 0===e.data.exchange?"No Data":e.data.exchange,n="NEW"===t.substr(0,t.indexOf(" "))?"NYSE":t.substr(0,t.indexOf(" "));return Object(o.jsxs)("div",{className:"main-handle",children:[Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("h1",{children:e.data.name})}),Object(o.jsxs)("div",{className:"row spacer",children:[Object(o.jsx)("div",{className:"box",children:Object(o.jsx)("img",{src:e.data.logo})}),Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("div",{className:"row ticker",children:Object(o.jsx)("span",{children:e.data.ticker})}),Object(o.jsx)("div",{className:"row exchange",children:Object(o.jsx)("span",{children:n})}),Object(o.jsx)("div",{className:"row sector",children:Object(o.jsx)("span",{children:e.data.finnhubIndustry})})]})]})]})};n(7);var b=function(e){var t=Object(c.useState)([]),n=Object(i.a)(t,2),s=n[0],r=n[1],a=function(){var e=localStorage.getItem("ticker");return""===e?"AAPL":e};return Object(c.useEffect)((function(){!function(){var t=e.symbol;""===t&&(t=a());var n=function(e){var t="https://finnhub.io/api/v1/stock/peers?symbol=";return t+=e,(t+="&token=")+"c1mts1a37fktjjdr6ji0"}(t);fetch("".concat(n)).then((function(e){return e.json()})).then((function(e){r(e)}))}()}),[e.symbol]),Object(o.jsxs)("div",{className:"peerList-container",children:[Object(o.jsx)("h1",{children:"market equivalents"}),Object(o.jsx)("ul",{children:s.map((function(t,n){return Object(o.jsx)("li",{value:t,onClick:function(n){return e.peerClick(n,t)},children:t},n)}))})]})};var d=function(e){var t=Object(c.useState)([]),n=Object(i.a)(t,2),s=n[0],r=n[1],a=function(e){var t=function(){var e=new Date,t=e.getFullYear().toString(),n=e.getMonth().toString(),c=e.getDay().toString();n.length<2&&(n="0"+n),c.length<2&&(c="0"+c),new Date(e.getMonth()-1);var s=e.getFullYear().toString(),r=e.getMonth().toString(),a=e.getDay().toString();return r.length<2&&(r="0"+r),a.length<2&&(a="0"+a),[t+"-"+n+"-"+c,s+"-"+r+"-"+a]}(),n="https://finnhub.io/api/v1/company-news?symbol=";return n+=e,n+="&from"+t[1],n+="&to"+t[0],n+="&token=",n+="c1mts1a37fktjjdr6ji0"};return Object(c.useEffect)((function(){""!==e.symbol&&function(){var t=a(e.symbol);fetch("".concat(t)).then((function(e){return e.json()})).then((function(e){r(e)}))}()}),[e.symbol]),0===s.length?Object(o.jsx)("div",{children:Object(o.jsx)("h1",{children:"NO NEWS"})}):Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"news"}),Object(o.jsx)("div",{className:"news-container",id:"style-1",children:s.map((function(e){var t=e.headline;return t.length>50&&(t=t.substr(0,47)+"..."),Object(o.jsx)("div",{className:"article",children:Object(o.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer noopener",children:Object(o.jsx)("p",{children:t})})},e.id)}))})]})};var u=function(e){var t=e.symbol,n=Object(c.useState)({}),s=Object(i.a)(n,2),r=s[0],a=s[1];return Object(c.useEffect)((function(){""!==t&&function(){var e=function(e){var t="https://finnhub.io/api/v1/stock/recommendation?symbol=";return t+=e,(t+="&token=")+"c1mts1a37fktjjdr6ji0"}(t);fetch("".concat(e)).then((function(e){return e.json()})).then((function(e){a(e)}))}()}),[t]),void 0!==r[0]?Object(o.jsxs)("div",{className:"buyHold-container",children:[Object(o.jsx)("h1",{children:"buy/hold"}),Object(o.jsxs)("div",{className:"buy box",children:[Object(o.jsx)("span",{children:r[0].buy}),Object(o.jsx)("p",{children:"BUY"})]}),Object(o.jsxs)("div",{className:"neutral box",children:[Object(o.jsx)("span",{children:r[0].hold}),Object(o.jsx)("p",{children:"HOLD"})]}),Object(o.jsxs)("div",{className:"sell box",children:[Object(o.jsx)("span",{children:r[0].sell}),Object(o.jsx)("p",{children:"SELL"})]})]}):Object(o.jsx)("div",{children:Object(o.jsx)("h1",{children:"NO DATA"})})};var h=function(e){return Object(o.jsxs)("div",{className:"row reverse",children:[Object(o.jsx)("div",{className:"box",children:Object(o.jsx)(b,{symbol:e.symbol,peerClick:e.peerClick})}),Object(o.jsx)("div",{className:"box",children:Object(o.jsx)(d,{symbol:e.symbol})}),Object(o.jsx)("div",{className:"box",children:Object(o.jsx)(u,{symbol:e.symbol})})]})};var O=function(e){return Object(o.jsxs)("div",{className:"ticker-container",children:[Object(o.jsx)(j,{data:e.data,exchange:""===e.data.exchange?"No data":e.data.exchange}),Object(o.jsx)(l,{symbol:e.data.ticker}),Object(o.jsx)(h,{symbol:e.data.ticker,peerClick:e.peerClick})]})},f=(n(18),n(3)),m=n(4),x=n(5),v=n(9),p=n.n(v),g=function(e){var t=function(){function e(){Object(f.a)(this,e),this.root=new n}return Object(m.a)(e,[{key:"insert",value:function(e){for(var t=this.root,c=0;c<e.length;c++){var s=e[c];t.map.has(s)||t.map.set(s,new n),t=t.map.get(s)}var r=new x.a(e);t.words.append(r)}},{key:"deepLookup",value:function(e){for(var t=this.root,n=0;n<e.length;n++){var c=e[n];if(!t.map.has(c))return[];t=t.map.get(c)}return this.deepLookupHelper(t)}},{key:"deepLookupHelper",value:function(e){if(null===e)return[];if(0===e.map.size)return e.words;new x.b;console.log("curr.map.values",e.map.values()),console.log("curr.words",e.words),console.log("curr.value",e)}}]),e}(),n=function e(){Object(f.a)(this,e),this.words=new x.b,this.map=new p.a},c=new t;return console.log("trie: "+c),["AAPL","GME","MSFT","PLTR","P"].map((function(e){c.insert(e)})),console.log("trie root: "+c.root),c.deepLookup("P")};var k=function(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),s=n[0],r=n[1];return Object(c.useEffect)((function(){g(s)}),[s]),Object(o.jsx)("div",{className:"symbol-form",children:Object(o.jsxs)("form",{children:[Object(o.jsx)("label",{htmlFor:"symbol",className:"label",children:"Symbol: "}),Object(o.jsx)("input",{className:"",type:"input",name:"symbol",onChange:function(e){return r(e.target.value)}}),Object(o.jsx)("button",{type:"submit",className:"btn btn-success",onClick:function(t){return e.onClick(t,s)},children:"Get quote"})]})})};var y=function(){var e=Object(c.useState)({}),t=Object(i.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(""),a=Object(i.a)(r,2),l=a[0],j=a[1];return Object(c.useEffect)((function(){console.log("symbol",l),""===l&&j(function(){var e=localStorage.getItem("ticker");return""===e?"AAPL":e}()),function(){var e=function(e){var t="https://finnhub.io/api/v1/stock/profile2?symbol=";return t+=e,(t+="&token=")+"c1mts1a37fktjjdr6ji0"}(l);fetch("".concat(e)).then((function(e){return e.json()})).then((function(e){s(e)}))}()}),[l]),Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(k,{onClick:function(e,t){e.preventDefault(),localStorage.setItem("ticker",t),j(t)}}),Object(o.jsx)(O,{data:n,peerClick:function(e,t){e.preventDefault(),j(t)}})]})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),r(e),a(e)}))};a.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(y,{})}),document.getElementById("root")),N()}],[[19,1,2]]]);
//# sourceMappingURL=main.ae87f1ef.chunk.js.map