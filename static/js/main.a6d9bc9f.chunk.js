(this.webpackJsonpgraph=this.webpackJsonpgraph||[]).push([[0],{18:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(9),r=n.n(a),i=(n(12),n(7)),o=n.n(i),l=n(10),j=n(2),b=(n(18),n(19),n(20),n(0));var u=function(e){var t=Object(c.useState)(),n=Object(j.a)(t,2),s=n[0],a=n[1],r=Object(c.useState)(),i=Object(j.a)(r,2),o=i[0],l=i[1],u=Object(c.useState)({}),d=Object(j.a)(u,2),h=d[0],f=d[1],O=Object(c.useState)(!1),m=Object(j.a)(O,2),p=m[0],v=m[1],x=new WebSocket("wss://ws.finnhub.io?token=".concat("c1mts1a37fktjjdr6ji0")),y=e.symbol;""===y&&(y=localStorage.getItem("ticker"));try{x.addEventListener("open",(function(e){x.send(JSON.stringify({type:"subscribe",symbol:y})),k(y)}))}catch(g){console.log("error",g)}x.addEventListener("message",(function(e){var t=JSON.parse(e.data);Array.isArray(t.data)&&(a(t.data[0].p.toFixed(2)),l(t.data[0].v))}));var k=function(e){x.send(JSON.stringify({type:"unsubscribe",symbol:e}))},N=function(){fetch("".concat("https://financialmodelingprep.com/api/v3/market-hours?apikey=fe052be73f5dbfe3e882f17c1fad13bb")).then((function(e){return e.json()})).then((function(e){void 0!==e[0]?v(e[0].isTheStockMarketOpen):v(!0)}))};return Object(c.useEffect)((function(){!function(){var e=function(e){var t="https://finnhub.io/api/v1/quote?symbol=";return t+=localStorage.getItem("ticker"),(t+="&token=")+"c1mts1a37fktjjdr6ji0"}();fetch("".concat(e)).then((function(e){return e.json()})).then((function(e){N(),f(e)}))}();var e=document.querySelectorAll("h1");e.forEach((function(e){e.classList.add("flash")})),setTimeout((function(){e.forEach((function(e){e.classList.remove("flash")}))}),3e3)}),[e.symbol]),Object(b.jsxs)("div",{className:"row mobile-daily",children:[!0!==p&&Object(b.jsxs)("div",{className:"box current",children:[Object(b.jsx)("h1",{children:"get a life,"}),Object(b.jsx)("h1",{children:"markets are closed."})]}),!0===p&&Object(b.jsxs)("div",{className:"box current",children:[Object(b.jsx)("p",{children:s}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("p",{children:"vol"}),Object(b.jsx)("span",{children:o})]})]}),Object(b.jsxs)("div",{className:"box historical",children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("p",{children:"last close"}),Object(b.jsx)("span",{children:h.pc})]}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("p",{children:"open"}),Object(b.jsx)("span",{children:h.o})]}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("p",{children:"close"}),Object(b.jsx)("span",{children:h.c})]})]}),Object(b.jsxs)("div",{className:"box hi-lo",children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("p",{children:"hi"}),Object(b.jsx)("span",{children:h.h})]}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("p",{children:"lo"}),Object(b.jsx)("span",{children:h.l})]})]})]})};var d=function(e){var t=void 0===e.data.exchange?"No Data":e.data.exchange,n="NEW"===t.substr(0,t.indexOf(" "))?"NYSE":t.substr(0,t.indexOf(" "));return Object(b.jsxs)("div",{className:"main-handle",children:[Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("h1",{children:e.data.name})}),Object(b.jsxs)("div",{className:"row spacer",children:[Object(b.jsx)("div",{className:"box logo",children:Object(b.jsx)("img",{src:e.data.logo})}),Object(b.jsxs)("div",{className:"box",children:[Object(b.jsx)("div",{className:"row ticker",children:Object(b.jsx)("span",{children:e.data.ticker})}),Object(b.jsx)("div",{className:"row exchange",children:Object(b.jsx)("span",{children:n})}),Object(b.jsx)("div",{className:"row sector",children:Object(b.jsx)("span",{children:e.data.finnhubIndustry})})]}),Object(b.jsxs)("div",{className:"box",children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("p",{children:"market cap"}),Object(b.jsx)("span",{children:e.data.marketCapitalization})]}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("p",{children:"shares outstanding"}),Object(b.jsx)("span",{children:e.data.shareOutstanding})]})]})]})]})};n(6);var h=function(e){var t=Object(c.useState)([]),n=Object(j.a)(t,2),s=n[0],a=n[1],r=function(){var e=localStorage.getItem("ticker");return""===e?"AAPL":e};return Object(c.useEffect)((function(){!function(){var t=e.symbol;""===t&&(t=r());var n=function(e){var t="https://finnhub.io/api/v1/stock/peers?symbol=";return t+=e,(t+="&token=")+"c1mts1a37fktjjdr6ji0"}(t);fetch("".concat(n)).then((function(e){return e.json()})).then((function(e){a(e)}))}()}),[e.symbol]),Object(b.jsxs)("div",{className:"peerList-container",children:[Object(b.jsx)("h1",{children:"market equivalents"}),Object(b.jsx)("ul",{children:s.map((function(t,n){return Object(b.jsx)("li",{value:t,onClick:function(n){return e.peerClick(n,t)},children:t},n)}))})]})},f=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),c=e.getDay();n.length<2&&(n="0"+n),c.length<2&&(c="0"+c);var s=e,a=s.getFullYear(),r=s.getMonth()-1,i=s.getDay();return r.length<2&&(r="0"+r),i.length<2&&(i="0"+i),[t+"-"+n+"-"+c,a+"-"+r+"-"+i]};var O=function(e){var t=Object(c.useState)([]),n=Object(j.a)(t,2),s=n[0],a=n[1],r=function(){var t=function(e){var t=f(),n="https://finnhub.io/api/v1/company-news?symbol=";return n+=e,n+="&from"+t[1],n+="&to"+t[0],n+="&token=",n+"c1mts1a37fktjjdr6ji0"}(e.symbol);fetch("".concat(t)).then((function(e){return e.json()})).then((function(e){a(e)}))};return Object(c.useEffect)((function(){if(""!==e.symbol){r();var t=document.querySelectorAll("h1");t.forEach((function(e){e.classList.add("flash")})),setTimeout((function(){t.forEach((function(e){e.classList.remove("flash")}))}),3e3)}}),[e.symbol]),0===s.length?Object(b.jsx)("div",{children:Object(b.jsx)("h1",{children:"NO NEWS"})}):Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"news"}),Object(b.jsx)("div",{className:"news-container",id:"style-1",children:s.map((function(e){var t=e.headline;return t.length>50&&(t=t.substr(0,47)+"..."),Object(b.jsx)("div",{className:"article",children:Object(b.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer noopener",children:Object(b.jsx)("p",{children:t})})},e.id)}))})]})};var m=function(e){var t=e.symbol,n=Object(c.useState)({}),s=Object(j.a)(n,2),a=s[0],r=s[1];return Object(c.useEffect)((function(){if(""!==t){!function(){var e=function(e){var t="https://finnhub.io/api/v1/stock/recommendation?symbol=";return t+=e,(t+="&token=")+"c1mts1a37fktjjdr6ji0"}(t);fetch("".concat(e)).then((function(e){return e.json()})).then((function(e){r(e)}))}();var e=document.querySelectorAll("h1");e.forEach((function(e){e.classList.add("flash")})),setTimeout((function(){e.forEach((function(e){e.classList.remove("flash")}))}),3e3)}}),[t]),void 0!==a[0]?Object(b.jsxs)("div",{className:"buyHold-container",children:[Object(b.jsx)("h1",{children:"buy/hold"}),Object(b.jsxs)("div",{className:"buy box",children:[Object(b.jsx)("span",{children:a[0].buy}),Object(b.jsx)("p",{children:"BUY"})]}),Object(b.jsxs)("div",{className:"neutral box",children:[Object(b.jsx)("span",{children:a[0].hold}),Object(b.jsx)("p",{children:"HOLD"})]}),Object(b.jsxs)("div",{className:"sell box",children:[Object(b.jsx)("span",{children:a[0].sell}),Object(b.jsx)("p",{children:"SELL"})]})]}):Object(b.jsx)("div",{children:Object(b.jsx)("h1",{children:"NO DATA"})})};var p=function(e){return Object(b.jsxs)("div",{className:"row reverse",children:[Object(b.jsx)("div",{className:"box",children:Object(b.jsx)(h,{symbol:e.symbol,peerClick:e.peerClick})}),Object(b.jsx)("div",{className:"box",children:Object(b.jsx)(O,{symbol:e.symbol})}),Object(b.jsx)("div",{className:"box",children:Object(b.jsx)(m,{symbol:e.symbol})})]})};var v=function(e){return Object(b.jsxs)("div",{className:"ticker-container",children:[Object(b.jsx)(d,{data:e.data,exchange:""===e.data.exchange?"No data":e.data.exchange}),Object(b.jsx)(u,{symbol:e.data.ticker}),Object(b.jsx)(p,{symbol:e.data.ticker,peerClick:e.peerClick})]})};n(22);var x=function(e){var t=Object(c.useState)(""),n=Object(j.a)(t,2),s=n[0],a=n[1],r=Object(c.useState)([]),i=Object(j.a)(r,2),o=i[0],l=i[1];return Object(b.jsx)("div",{className:"symbol-form",children:Object(b.jsxs)("form",{children:[Object(b.jsx)("label",{htmlFor:"symbol",className:"label",children:"Symbol: "}),Object(b.jsx)("input",{type:"input",list:"symbol",value:s,onChange:function(t){return function(t){t.preventDefault();var n=e.onSearch(e.trie,t.target.value);l(void 0===n?[]:n),a(t.target.value)}(t)}}),Object(b.jsx)("datalist",{id:"symbol",name:"symbolDD",children:o.map((function(e,t){return Object(b.jsx)("option",{value:e,children:e},t)}))}),Object(b.jsx)("button",{type:"submit",className:"btn btn-success",onClick:function(t){return e.onClick(t,s)},children:"Get quote"})]})})},y=n(8),k=n(11),N=n.n(k);function g(){this.root=new S}function S(){this.words=[],this.map=new N.a}function w(e){if(null===e)return[];if(0===e.map.size)return e.words;var t,n=[],c=Object(y.a)(e.map.values());try{for(c.s();!(t=c.n()).done;){var s,a=w(t.value),r=Object(y.a)(a);try{for(r.s();!(s=r.n()).done;){var i=s.value;n.push(i)}}catch(o){r.e(o)}finally{r.f()}}}catch(o){c.e(o)}finally{c.f()}return n}g.prototype.insert=function(e){for(var t=this.root,n=0;n<e.length;n++){var c=e[n];t.map.has(c)||t.map.set(c,new S),t=t.map.get(c)}t.words.push(e)},g.prototype.deepLookup=function(e){for(var t=this.root,n=0;n<e.length;n++){var c=e[n];if(!t.map.has(c))return;t=t.map.get(c)}return w(t)};var A=function(e,t){return e.insert(t)},L=function(e,t){return e.deepLookup(t)},E=function(e,t,n){switch(n="FMP"===n?"&apikey=fe052be73f5dbfe3e882f17c1fad13bb":"&token=c1mts1a37fktjjdr6ji0",t){case"profile":t="https://finnhub.io/api/v1/stock/profile2?symbol=",t+=e;break;case"quote":t="https://finnhub.io/api/v1/quote?symbol=",t+=e;break;case"news":var c=f();t="https://finnhub.io/api/v1/company-news?symbol=",t+=e,t+="&from"+c[1],t+="&to"+c[0];break;case"metrics":t="https://finnhub.io/api/v1/stock/metric?symbol=",t+=e;break;case"reco":t="https://finnhub.io/api/v1/stock/recommendation?symbol=",t+=e;break;case"peers":t="https://finnhub.io/api/v1/stock/peers?symbol=",t+=e;break;case"market":t="https://financialmodelingprep.com/api/v3/market-hours";break;case"list":t="https://financialmodelingprep.com/api/v3/stock/list";break;default:return}return t.concat(n)};var C=function(){var e=function(){for(var e=new g,t=["AAPL","GOOG","LULU","MSFT","TSLA","PLTR","GME","ETSY","EBAY","SBUX","ACAB","AAL","AMAT","MXIM","MNST","BMRN","ORLY","NVDA","NTAP","NFLX","AMZN","CERN","PAYX","PCAR","CSCO","CTXS","EA","VRSN","SPCE","WYNN","XLNX","IDXX"],n=0;n<t.length;n++)try{e.insert(t[n])}catch(c){console.log(c)}return e}(),t=Object(c.useState)({}),n=Object(j.a)(t,2),s=n[0],a=n[1],r=Object(c.useState)(),i=Object(j.a)(r,2),u=(i[0],i[1],Object(c.useState)("")),d=Object(j.a)(u,2),h=d[0],f=d[1],O=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t,"profile","FINN");case 2:n=e.sent,fetch(n).then((function(e){return e.json()})).then((function(e){a(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){""===h&&f(function(){var e=localStorage.getItem("ticker");return""===e?"AAPL":e}()),O(h)}),[h]),Object(c.useEffect)((function(){}),[]),Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(x,{onClick:function(e,t){e.preventDefault(),localStorage.setItem("ticker",t),f(t)},trie:e,insert:A,onSearch:L}),Object(b.jsx)(v,{data:s,peerClick:function(e,t){e.preventDefault(),f(t)}})]})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,25)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))};r.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(C,{})}),document.getElementById("root")),T()},6:function(e,t,n){}},[[23,1,2]]]);
//# sourceMappingURL=main.a6d9bc9f.chunk.js.map