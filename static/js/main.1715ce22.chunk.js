(this.webpackJsonpgraph=this.webpackJsonpgraph||[]).push([[0],[,,,,function(e,t,c){},,,,,,function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(5),r=c.n(a),i=c(2),j=(c(10),c(11),c(0));var o=function(e){var t=Object(n.useState)(),c=Object(i.a)(t,2),s=c[0],a=c[1],r=Object(n.useState)(),o=Object(i.a)(r,2),l=o[0],b=o[1],d=Object(n.useState)({}),h=Object(i.a)(d,2),u=h[0],O=h[1],x=new WebSocket("wss://ws.finnhub.io?token=".concat("c1mts1a37fktjjdr6ji0")),f=localStorage.getItem("ticker");""===f&&(f=e.symbol);try{x.addEventListener("open",(function(e){x.send(JSON.stringify({type:"subscribe",symbol:f}))}))}catch(m){console.log("error",m)}return x.addEventListener("message",(function(e){var t=JSON.parse(e.data);Array.isArray(t.data)&&(console.log("data",t.data[0].p.toFixed(2),t.data[0].v),a(t.data[0].p.toFixed(2)),b(t.data[0].v))})),Object(n.useEffect)((function(){!function(){var t=function(e){var t="https://finnhub.io/api/v1/quote?symbol=";return t+=e,(t+="&token=")+"c1mts1a37fktjjdr6ji0"}(e.symbol);fetch("".concat(t)).then((function(e){return e.json()})).then((function(e){O(e)}))}()}),[e.symbol]),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"box current",children:[Object(j.jsx)("p",{children:s}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("p",{children:"vol"}),Object(j.jsx)("span",{children:l})]})]}),Object(j.jsxs)("div",{className:"box historical",children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("p",{children:"last close"}),Object(j.jsx)("span",{children:u.pc})]}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("p",{children:"open"}),Object(j.jsx)("span",{children:u.o})]}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("p",{children:"close"}),Object(j.jsx)("span",{children:u.c})]})]}),Object(j.jsxs)("div",{className:"box hi-lo",children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("p",{children:"hi"}),Object(j.jsx)("span",{children:u.h})]}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("p",{children:"lo"}),Object(j.jsx)("span",{children:u.l})]})]})]})};var l=function(e){var t=e.data.exchange;""!==t&&(t="Awaiting ");var c="NEW"===t.substr(0,t.indexOf(" "))?"NYSE":t.substr(0,t.indexOf(" "));return Object(j.jsxs)("div",{className:"main-handle",children:[Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("h1",{children:e.data.name})}),Object(j.jsxs)("div",{className:"row spacer",children:[Object(j.jsx)("div",{className:"box",children:Object(j.jsx)("img",{src:e.data.logo})}),Object(j.jsxs)("div",{className:"box",children:[Object(j.jsx)("div",{className:"row ticker",children:Object(j.jsx)("span",{children:e.data.ticker})}),Object(j.jsx)("div",{className:"row exchange",children:Object(j.jsx)("span",{children:c})}),Object(j.jsx)("div",{className:"row sector",children:Object(j.jsx)("span",{children:e.data.finnhubIndustry})})]}),Object(j.jsxs)("div",{className:"box",children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("p",{children:"market cap"}),Object(j.jsx)("span",{children:e.data.marketCapitalization})]}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("p",{children:"shares"}),Object(j.jsx)("span",{children:e.data.shareOutstanding})]})]})]})]})};c(4);var b=function(e){var t=Object(n.useState)([]),c=Object(i.a)(t,2),s=c[0],a=c[1],r=function(){var e=localStorage.getItem("ticker");return""===e?"AAPL":e};return Object(n.useEffect)((function(){!function(){var t=e.symbol;""===t&&(t=r());var c=function(e){var t="https://finnhub.io/api/v1/stock/peers?symbol=";return t+=e,(t+="&token=")+"c1mts1a37fktjjdr6ji0"}(t);fetch("".concat(c)).then((function(e){return e.json()})).then((function(e){a(e)}))}()}),[e.symbol]),Object(j.jsx)("div",{className:"peerList-container",children:Object(j.jsx)("ul",{children:s.map((function(t,c){return Object(j.jsx)("li",{value:t,onClick:function(c){return e.peerClick(c,t)},children:t},c)}))})})};var d=function(e){var t=Object(n.useState)([]),c=Object(i.a)(t,2),s=c[0],a=c[1],r=function(e){var t=function(){var e=new Date,t=e.getFullYear().toString(),c=e.getMonth().toString(),n=e.getDay().toString();c.length<2&&(c="0"+c),n.length<2&&(n="0"+n),new Date(e.getMonth()-1);var s=e.getFullYear().toString(),a=e.getMonth().toString(),r=e.getDay().toString();return a.length<2&&(a="0"+a),r.length<2&&(r="0"+r),[t+"-"+c+"-"+n,s+"-"+a+"-"+r]}(),c="https://finnhub.io/api/v1/company-news?symbol=";return c+=e,c+="&from"+t[1],c+="&to"+t[0],c+="&token=",c+="c1mts1a37fktjjdr6ji0"};return Object(n.useEffect)((function(){""!==e.symbol&&function(){var t=r(e.symbol);fetch("".concat(t)).then((function(e){return e.json()})).then((function(e){a(e)}))}()}),[e.symbol]),0===s.length?Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"NO NEWS"})}):Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"news"}),Object(j.jsx)("div",{className:"news-container",id:"style-1",children:s.map((function(e){var t=e.headline;return t.length>50&&(t=t.substr(0,47)+"..."),Object(j.jsx)("div",{className:"article",children:Object(j.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer noopener",children:Object(j.jsx)("p",{children:t})})},e.id)}))})]})};var h=function(e){var t=e.symbol,c=Object(n.useState)({}),s=Object(i.a)(c,2),a=s[0],r=s[1];return Object(n.useEffect)((function(){""!==t&&function(){var e=function(e){var t="https://finnhub.io/api/v1/stock/recommendation?symbol=";return t+=e,(t+="&token=")+"c1mts1a37fktjjdr6ji0"}(t);fetch("".concat(e)).then((function(e){return e.json()})).then((function(e){r(e)}))}()}),[t]),void 0!==a[0]?Object(j.jsxs)("div",{className:"buyHold-container",children:[Object(j.jsxs)("div",{className:"buy box",children:[Object(j.jsx)("span",{children:a[0].buy}),Object(j.jsx)("p",{children:"BUY"})]}),Object(j.jsxs)("div",{className:"neutral box",children:[Object(j.jsx)("span",{children:a[0].hold}),Object(j.jsx)("p",{children:"HOLD"})]}),Object(j.jsxs)("div",{className:"sell box",children:[Object(j.jsx)("span",{children:a[0].sell}),Object(j.jsx)("p",{children:"SELL"})]})]}):Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"NO DATA"})})};var u=function(e){var t=e.symbol,c=Object(n.useState)([]),s=Object(i.a)(c,2),a=s[0],r=s[1],o=function(){var e=function(e){var t="https://finnhub.io/api/v1/stock/metric?symbol=";return t+=e,t+="&metric=all&token=",t+="c1mts1a37fktjjdr6ji0",console.log("fetchinfo",t),t}(t);fetch("".concat(e)).then((function(e){return e.json()})).then((function(e){r(e)}))};return Object(n.useEffect)((function(){""!==t&&o()}),[t]),void 0===t?Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"search for a symbol!!"})}):Object(j.jsxs)("div",{className:"hilo-container",children:[Object(j.jsx)("div",{className:"row",children:"Annual Book Value"}),Object(j.jsx)("div",{className:"row",children:a.metric.bookValuePerShareAnnual})]})};var O=function(e){return Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"box",children:Object(j.jsx)(b,{symbol:e.symbol,peerClick:e.peerClick})}),Object(j.jsx)("div",{className:"box",children:Object(j.jsx)(d,{symbol:e.symbol})}),Object(j.jsx)("div",{className:"box",children:Object(j.jsx)(h,{symbol:e.symbol})}),Object(j.jsx)("div",{className:"box",children:Object(j.jsx)(u,{symbol:e.symbol})})]})};var x=function(e){return Object(j.jsxs)("div",{className:"ticker-container",children:[Object(j.jsx)(o,{symbol:e.data.ticker}),Object(j.jsx)(l,{data:e.data,exchange:""===e.data.exchange?"No data":e.data.exchange}),Object(j.jsx)(O,{symbol:e.data.ticker,peerClick:e.peerClick})]})};c(13);var f=function(e){var t=Object(n.useState)(""),c=Object(i.a)(t,2),s=c[0],a=c[1];return Object(j.jsx)("div",{className:"symbol-form",children:Object(j.jsxs)("form",{children:[Object(j.jsx)("label",{htmlFor:"symbol",className:"label",children:"Symbol: "}),Object(j.jsx)("input",{className:"",type:"input",name:"symbol",onChange:function(e){return a(e.target.value)}}),Object(j.jsx)("button",{type:"submit",className:"btn btn-success",onClick:function(t){return e.onClick(t,s)},children:"Get quote"})]})})};var m=function(){var e=Object(n.useState)({}),t=Object(i.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(""),r=Object(i.a)(a,2),o=r[0],l=r[1];return Object(n.useEffect)((function(){""!==o&&function(){var e=function(e){var t="https://finnhub.io/api/v1/stock/profile2?symbol=";return t+=e,(t+="&token=")+"c1mts1a37fktjjdr6ji0"}(o);fetch("".concat(e)).then((function(e){return e.json()})).then((function(e){s(e)}))}()}),[o]),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(f,{onClick:function(e,t){e.preventDefault(),localStorage.setItem("ticker",t),l(t)}}),Object(j.jsx)(x,{data:c,peerClick:function(e,t){e.preventDefault(),l(t)}})]})},v=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,15)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),a(e),r(e)}))};r.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(m,{})}),document.getElementById("root")),v()}],[[14,1,2]]]);
//# sourceMappingURL=main.1715ce22.chunk.js.map